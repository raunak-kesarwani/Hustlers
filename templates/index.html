{% extends "base.html" %}

{% block title %}EduMentor AI - AI-Powered Learning Platform{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Transform Any Topic Into Complete Learning Materials</h2>
            <p>AI-powered notes, quizzes, flashcards, and more - instantly generated for any subject</p>
            {% if not session.user_id %}
                <div style="margin-top: 1.5rem;">
                    <a href="/login" class="btn-primary" style="display: inline-block; text-decoration: none;">Login to Get Started</a>
                    <a href="/register" class="btn-primary" style="display: inline-block; text-decoration: none; margin-left: 1rem; background: var(--secondary-color);">Register</a>
                </div>
            {% endif %}
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        {% if not session.user_id %}
            <section class="section" style="text-align: center; padding: 3rem;">
                <h2>Please Login to Access Features</h2>
                <p style="margin: 1rem 0; color: var(--text-light);">Create an account or login to start generating learning materials, taking quizzes, and tracking your progress.</p>
                <div style="margin-top: 2rem;">
                    <a href="/login" class="btn-primary" style="display: inline-block; text-decoration: none; margin-right: 1rem;">Login</a>
                    <a href="/register" class="btn-primary" style="display: inline-block; text-decoration: none; background: var(--secondary-color);">Register</a>
                </div>
            </section>
        {% else %}
        <!-- Content Generation Section -->
        <section id="generate" class="section">
            <h2>Generate Learning Materials</h2>
            
            <!-- Topic Input -->
            <div class="input-group">
                <label for="topic">Enter Topic:</label>
                <input type="text" id="topic" placeholder="e.g., Photosynthesis, World War II, Python Functions..." required>
            </div>

            <!-- Content Type Selection -->
            <div class="content-types">
                <h3>Select Content Type:</h3>
                <div class="type-grid">
                    <button class="type-btn active" data-type="notes">ğŸ“ Study Notes</button>
                    <button class="type-btn" data-type="summary">ğŸ“„ Summary</button>
                    <button class="type-btn" data-type="quiz">â“ Quiz</button>
                    <button class="type-btn" data-type="flashcards">ğŸƒ Flashcards</button>
                    <button class="type-btn" data-type="diagram_description">ğŸ“Š Diagram</button>
                    <button class="type-btn" data-type="video_script">ğŸ¥ Video Script</button>
                </div>
            </div>

            <!-- Options -->
            <div class="options">
                <div class="option-group" id="numQuestionsGroup" style="display: none;">
                    <label for="numQuestions">Number of Questions:</label>
                    <input type="number" id="numQuestions" value="10" min="1" max="50" style="padding: 0.5rem; border: 2px solid var(--border-color); border-radius: 6px;">
                </div>
                <div class="option-group">
                    <label for="difficulty">Difficulty Level:</label>
                    <select id="difficulty">
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
                <div class="option-group" id="languageGroup">
                    <label for="language">Language:</label>
                    <select id="language">
                        <option value="en" selected>English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="hi">Hindi</option>
                    </select>
                </div>
                <div class="option-group" id="useInternetGroup" style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" id="useInternet" style="width: auto; margin: 0;">
                    <label for="useInternet" style="margin: 0; font-weight: normal;">Generate from Internet Sources</label>
                </div>
            </div>

            <!-- Generate Button -->
            <button id="generateBtn" class="btn-primary">Generate Content</button>

            <!-- Loading Indicator -->
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>Generating your content...</p>
            </div>

            <!-- Results Display -->
            <div id="results" class="results hidden">
                <div class="results-header">
                    <h3>Generated Content</h3>
                    <div class="export-buttons">
                        <button class="btn-export" data-format="pdf">ğŸ“„ Export PDF</button>
                        <button class="btn-export" data-format="docx">ğŸ“ Export DOCX</button>
                        <button class="btn-export" data-format="ppt">ğŸ“Š Export PPT</button>
                    </div>
                </div>
                <div id="contentDisplay" class="content-display"></div>
            </div>
        </section>

        <!-- Flashcards Section -->
        <section class="section">
            <h2>Flashcards</h2>
            <div class="input-group">
                <input type="text" id="flashcardTopic" placeholder="Enter topic for flashcards...">
                <input type="number" id="numCards" placeholder="Number of cards" value="20" min="1" max="100">
                <button id="generateFlashcardsBtn" class="btn-primary">Generate Flashcards</button>
            </div>
            <div id="flashcardResults" class="flashcard-container hidden"></div>
        </section>

        <!-- Doubt Solver Section -->
        <section class="section">
            <h2>ğŸ¤” Ask a Question</h2>
            <div class="input-group">
                <textarea id="doubtQuestion" placeholder="Ask your question here..." rows="3"></textarea>
                <input type="text" id="doubtContext" placeholder="Optional: Provide context or topic...">
                <button id="solveDoubtBtn" class="btn-primary">Get Answer</button>
            </div>
            <div id="doubtAnswer" class="answer-box hidden"></div>
        </section>

        <!-- Teacher Tools Section -->
        {% if session.role in ['teacher', 'admin'] %}
        <section class="section teacher-tools">
            <h2>ğŸ‘¨â€ğŸ« Teacher Tools</h2>
            <div class="teacher-grid">
                <div class="teacher-card">
                    <h3>Lesson Plan</h3>
                    <input type="text" id="lessonTopic" placeholder="Topic">
                    <input type="number" id="lessonDuration" placeholder="Duration (minutes)" value="60">
                    <select id="gradeLevel">
                        <option value="elementary">Elementary</option>
                        <option value="middle" selected>Middle School</option>
                        <option value="high">High School</option>
                        <option value="college">College</option>
                    </select>
                    <button id="generateLessonPlanBtn" class="btn-primary">Generate Lesson Plan</button>
                </div>
                <div class="teacher-card">
                    <h3>Homework</h3>
                    <input type="text" id="homeworkTopic" placeholder="Topic">
                    <select id="homeworkDifficulty">
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                    <button id="generateHomeworkBtn" class="btn-primary">Generate Homework</button>
                </div>
            </div>
            <div id="teacherResults" class="teacher-results hidden"></div>
        </section>
        {% endif %}
        {% endif %}
    </main>
{% endblock %}

